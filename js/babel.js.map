{"version":3,"sources":["node_modules/browser-pack/_prelude.js","_stream_0.js","src/app/map/map.class.js","src/app/map/map.component.js","src/app/object/object.property.js","src/app/plugin/plugin.class.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_map2","default","waitReady","console","log","map","center","nearMarkers","Map","arguments","undefined","options","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","_options","assign","key","language","region","zoom","lat","lng","_map","_layer","_ready","_mapEle","document","querySelectorAll","google","_initMap","_api","replace","libraries","search","_loadPlugin","self","geolocation","geolocationOption","events","markers","getAttribute","backgroundColor","_latlng","split","clickableIcons","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOption","position","gestureHandling","heading","Number","keyboardShortcuts","mapTypeControl","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetViewControl","streetViewControlOptions","tilt","zoomControl","zoomControlOptions","push","maps","mapIndex","_geolocation","addEvents","addMarkers","index","handleLocationError","browserHasGeolocation","pos","_this2","_index","parseInt","navigator","getCurrentPosition","coords","latitude","longitude","marker","setCenter","getCenter","_setZoom","setZoom","_results","_setCenter","panTo","concat","_addEvent","event","ele","_disableOther","clearListeners","addListener","_callback","type","markerId","mapId","callback","disableOther","_marker2","_findMarker","_i","_addMarkers","j","_markers","_marker3","layer","_addMarker","Array","isArray","_marker4","_events","_event","Marker","show","remove","filter","toggleMarker","_this3","_marker","_arr","action","setMap","_i2","_loop","_rad","x","Math","PI","radius","_nearMarkers","_i3","_pos","_dPos","_a","sin","cos","atan2","sqrt","_zoom","getZoom","_center","click","getElementById","value","latLng","markerClick","map2","map2Options","lv2","lv3","lv4","dblclick","zoom_changed","toggleLayer","title","styles","featureType","elementType","stylers","visibility","addEventListener","objs","_typeof","plugin","url","head","getElementsByTagName","script","createElement","src","appendChild","_timer","clearInterval","setInterval"],"mappings":"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","file":"babel.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// start with es6 coding\r\nimport map from \"map/map.component\";\r\n\r\nmap.waitReady(function() {\r\n\tconsole.log(map.map);\r\n\tconsole.log(map.center[0]);\r\n\tconsole.log(map.nearMarkers(map.center[0]));\r\n});","import 'object/object.property';\r\nimport plugin from 'plugin/plugin.class';\r\n\r\n// Google Maps\r\nexport default class Map extends plugin {\r\n  constructor(map=\".map\", options={}) {\r\n    super(map, options)\r\n    this._options = Object.assign({\r\n      key: '',\r\n      language: '',\r\n      region: '',\r\n      zoom: 10,\r\n      center: {\r\n        lat: 22.28552,\r\n        lng: 114.15769\r\n      }\r\n    }, options);\r\n\r\n    this._map = [];\r\n\r\n    this._layer = [];\r\n\r\n    this._ready = false;\r\n\r\n    this._mapEle = document.querySelectorAll(map);\r\n\r\n    if (typeof google !== 'undefined') {  // with google api\r\n      this._initMap(this);\r\n    } else {  // without google api\r\n      // google api not ready\r\n      let _api = 'https://maps.googleapis.com/maps/api/js';\r\n      if (this._options.key != '' || this._options.language != '' || this._options.region != '') _api += '?';\r\n      if (this._options.key != '') _api += 'key=' + this._options.key;\r\n      if (this._options.language != '' && this._options.key != '') _api += '&';\r\n      if (this._options.language != '') _api += 'language=' + this._options.language;\r\n      if (this._options.region != '' && (this._options.key != '' || this._options.language != '')) _api += '&';\r\n      if (this._options.region != '') _api += 'region=' + this._options.region;\r\n      if (this._options.region == 'cn') _api = _api.replace('https://maps.googleapis.com', 'http://maps.google.cn');\r\n      if (this._options.libraries) {\r\n        _api += _api.search('=') == -1 ? '?libraries=' : '&libraries=';\r\n\r\n        for(let i=0; i< this._options.libraries.length; i++) { \r\n          _api += i == 0 ? this._options.libraries[i] : (','+ this._options.libraries[i]);\r\n        }\r\n      }\r\n      this._loadPlugin(_api, this._initMap);\r\n    }\r\n  }\r\n\r\n  _initMap(self) {\r\n    let _options = {};\r\n\r\n    for (let i=0; i<self._mapEle.length; i++) {\r\n      _options = Object.assign({}, self._options);\r\n\r\n      delete _options.key;\r\n      delete _options.geolocation;\r\n      delete _options.geolocationOption;\r\n      delete _options.events;\r\n      delete _options.markers;\r\n      delete _options.language;\r\n      delete _options.region;\r\n\r\n      if (self._mapEle[i].getAttribute(\"data-map-background-color\")) _options.backgroundColor = self._mapEle[i].getAttribute(\"data-map-background-color\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-center\")) {\r\n        let _latlng = self._mapEle[i].getAttribute(\"data-map-center\").replace(/ /g, \"\").split(',');\r\n        if (_latlng.length >= 2) _options.center = {lat: _latlng[0], lng: _latlng[1]};\r\n      }\r\n      if (self._mapEle[i].getAttribute(\"data-map-clickable-icons\")) _options.clickableIcons = self._mapEle[i].getAttribute(\"data-map-clickable-icons\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-disable-default-ui\")) _options.disableDefaultUI = self._mapEle[i].getAttribute(\"data-map-disable-default-ui\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-disable-double-click-zoom\")) _options.disableDoubleClickZoom = self._mapEle[i].getAttribute(\"data-map-disable-double-click-zoom\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-draggable\")) _options.draggable = self._mapEle[i].getAttribute(\"data-map-draggable\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-draggable-cursor\")) _options.draggableCursor = self._mapEle[i].getAttribute(\"data-map-draggable-cursor\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-dragging-cursor\")) _options.draggingCursor = self._mapEle[i].getAttribute(\"data-map-dragging-cursor\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-fullscreen-control\")) _options.fullscreenControl = self._mapEle[i].getAttribute(\"data-map-fullscreen-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-fullscreen-control-option\")) _options.fullscreenControlOption = {position: self._mapEle[i].getAttribute(\"data-map-fullscreen-control-option\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-gesture-handling\")) _options.gestureHandling = self._mapEle[i].getAttribute(\"data-map-gesture-handling\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-heading\")) _options.heading = Number(self._mapEle[i].getAttribute(\"data-map-heading\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-keyboard-shortcuts\")) _options.keyboardShortcuts = self._mapEle[i].getAttribute(\"data-map-keyboard-shortcuts\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-map-type-control\")) _options.mapTypeControl = self._mapEle[i].getAttribute(\"data-map-map-type-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-map-type-id\")) _options.mapTypeId = self._mapEle[i].getAttribute(\"data-map-map-type-id\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-max-zoom\")) _options.maxZoom = Number(self._mapEle[i].getAttribute(\"data-map-max-zoom\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-min-zoom\")) _options.minZoom = Number(self._mapEle[i].getAttribute(\"data-map-min-zoom\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-no-clear\")) _options.noClear = self._mapEle[i].getAttribute(\"data-map-no-clear\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-pan-control\")) _options.panControl = self._mapEle[i].getAttribute(\"data-map-pan-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-pan-control-options\")) _options.panControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-pan-control-options\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-rotate-control\")) _options.rotateControl = self._mapEle[i].getAttribute(\"data-map-rotate-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-rotate-control-options\")) _options.rotateControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-rotate-control-options\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-scale-control\")) _options.scaleControl = self._mapEle[i].getAttribute(\"data-map-scale-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-scale-control-options\")) _options.scaleControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-scale-control-options\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-scrollwheel\")) _options.scrollwheel = self._mapEle[i].getAttribute(\"data-map-scrollwheel\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-street-view-control\")) _options.streetViewControl = self._mapEle[i].getAttribute(\"data-map-street-view-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-street-view-control-options\")) _options.streetViewControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-street-view-control-options\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-tilt\")) _options.tilt = Number(self._mapEle[i].getAttribute(\"data-map-tilt\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-zoom\")) _options.zoom = Number(self._mapEle[i].getAttribute(\"data-map-zoom\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-zoom-control\")) _options.zoomControl = self._mapEle[i].getAttribute(\"data-map-zoom-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-zoom-control-options\")) _options.zoomControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-zoom-control-options\")};\r\n\r\n      self._map.push(new google.maps.Map(self._mapEle[i], _options));\r\n\r\n      self._map[i].mapIndex = i;\r\n\r\n      if (self._mapEle[i].getAttribute(\"data-map-geolocation\") === \"true\" || self._options.geolocation) self._geolocation(i);\r\n    \r\n      if (self._options.events) {\r\n        self.addEvents(self._options.events, i);\r\n      }\r\n\r\n      if (self._options.markers) {\r\n        self.addMarkers(self._options.markers, i);\r\n      }\r\n    }\r\n\r\n    self._ready = true;\r\n  }\r\n\r\n  _geolocation(index) {\r\n    let _options = this._options.geolocationOption ? this._options.geolocationOption : {},\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1;\r\n\r\n    // Try HTML5 geolocation.\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        let pos = {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        };\r\n\r\n        if (_options.marker) {\r\n          _options.marker.position = pos;\r\n          this.addMarkers([_options.marker]);\r\n        }\r\n\r\n        this._map[_index].setCenter(pos);\r\n      }, () => {\r\n        handleLocationError(true, this._map[index].getCenter());\r\n      }, _options);\r\n    } else {\r\n      // Browser doesn't support Geolocation\r\n      handleLocationError(false, this._map[index].getCenter());\r\n    }\r\n\r\n    function handleLocationError(browserHasGeolocation, pos) {\r\n      // console.log(pos);\r\n      // console.log(browserHasGeolocation ?\r\n      //   'Error: The Geolocation service failed.' :\r\n      //   'Error: Your browser doesn\\'t support geolocation.');\r\n    }\r\n  }\r\n\r\n  setZoom(zoom, index=-1) {\r\n    function _setZoom (map) {\r\n      map.setZoom(zoom);\r\n      _results.push(map.mapIndex);\r\n    }\r\n\r\n    let _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _results = [];\r\n\r\n    if (_index == -1) {\r\n      for (let i = 0; i < this._map.length; i++) {\r\n        _setZoom(this._map[i]);\r\n      }\r\n    } else {\r\n      if (this._map[_index]) {\r\n        _setZoom(this._map[_index]);\r\n      }\r\n    }\r\n\r\n    return _results.length <= 0 ? false : _results;\r\n  }\r\n\r\n  setCenter(center, panTo=true, index=-1) {\r\n    function _setCenter (map) {\r\n      if (panTo) map.panTo(center);\r\n      else map.setCenter(center);\r\n      _results.push(map.mapIndex);\r\n    }\r\n\r\n    let _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _results = [];\r\n\r\n    if (_index == -1) {\r\n      for (let i = 0; i < this._map.length; i++) {\r\n        _setCenter(this._map[i]);\r\n      }\r\n    } else {\r\n      if (this._map[_index]) {\r\n        _setCenter(this._map[_index]);\r\n      }\r\n    }\r\n\r\n    return _results.length <= 0 ? false : _results;\r\n  }\r\n\r\n  addEvents(options, index=-1) {\r\n    let _results = [];\r\n\r\n    for(let key in options) { \r\n      _results = _results.concat(this._addEvent(key, options[key], index)); \r\n    }\r\n\r\n    return _results;\r\n  }\r\n  \r\n  _addEvent(event, options, index=-1) {\r\n    function _addEvent (ele) {\r\n      if (_disableOther) google.maps.event.clearListeners(ele, event);\r\n      ele.addListener(event, function(e) {\r\n        _callback(e, this);\r\n      });\r\n      _results.push({\r\n        type: options.type ? options.type : 'map', \r\n        event: event, \r\n        markerId: ele.markerId ? ele.markerId : null, \r\n        mapIndex: ele.mapIndex ? ele.mapIndex : ele.mapId\r\n      })\r\n    }\r\n\r\n    let _callback = typeof options === 'function' ? options : options.callback,\r\n    _disableOther = options.disableOther === true,\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _results = [];\r\n\r\n    switch(options.type) {\r\n      case 'marker':   // add to marker\r\n        let _marker = _marker = this._findMarker(options.marker, _index);\r\n        \r\n        for (let i = 0; i < _marker.length; i++) {\r\n          _addEvent(_marker[i]);\r\n        }\r\n        break;\r\n      default:  // add to map\r\n        if (_index == -1) {\r\n          for (let i = 0; i < this._map.length; i++) {\r\n            _addEvent(this._map[i]);\r\n          }\r\n        } else {\r\n          if (this._map[_index]) {\r\n            _addEvent(this._map[_index]);\r\n          }\r\n        }\r\n        break;\r\n    }\r\n\r\n    return _results;\r\n  }\r\n\r\n  addMarkers(markers, index=-1) {\r\n    function _addMarkers(self, map) {\r\n      for (let j=0; j<_markers.length; j++) {\r\n        let _marker = Object.assign({}, _markers[j]),\r\n        _layer = parseInt(_marker.layer) || 0;\r\n        if (_layer < 0) _layer = 0;\r\n        \r\n        _marker.map = map;\r\n\r\n        delete _marker.layer;\r\n        \r\n        self._addMarker(_marker, _layer, map.mapIndex);\r\n      }\r\n\r\n      _results.push({mapIndex: map.mapIndex, addMarkers: _markers.length});\r\n    }\r\n\r\n    let _markers = Array.isArray(markers) ? markers : [markers],\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _results = [];\r\n\r\n    if (_index == -1) {\r\n      for (let i = 0; i < this._map.length; i++) {\r\n        _addMarkers(this, this._map[i]);\r\n      }\r\n    } else {\r\n      if (this._map[_index]) {\r\n        _addMarkers(this, this._map[_index]);\r\n      }\r\n    }\r\n\r\n    return _results;\r\n  }\r\n\r\n  _addMarker(marker, layer=0, index=0) {\r\n    if (marker.position) {\r\n      let _options = marker, \r\n      _marker,\r\n      _index = parseInt(index) || 0,\r\n      _events = marker.events,\r\n      _event;\r\n\r\n      delete _options.events;\r\n\r\n      _marker = new google.maps.Marker(_options);\r\n\r\n      if (this._layer.length < layer + 1) {\r\n        for (let i = this._layer.length; i < layer + 1; i++) {\r\n          this._layer.push([]);\r\n        }\r\n      }\r\n\r\n      _marker.markerId = layer + '-' + _marker.position.lat() + '-' + _marker.position.lng();\r\n      _marker.mapId = _index;\r\n\r\n      if (_events) {\r\n        for(let key in _events) { \r\n          _event = _events[key];\r\n\r\n          _event.type = 'marker';\r\n          _event.marker = _marker;\r\n\r\n          this._addEvent(key, _event, _index); \r\n        }\r\n      }\r\n\r\n      this._layer[layer].push(_marker);\r\n    }\r\n  }\r\n\r\n  toggleLayer(options, layer=-1, index=-1) {\r\n    let _markers,\r\n    _options = Object.assign({\r\n      show: true,\r\n      remove: false\r\n    }, options),\r\n    _layer = parseInt(layer) == 0 ? 0 : parseInt(layer) || -1,\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1;\r\n\r\n    if (_layer==-1) {\r\n      _markers = Array.isArray(this.layer[0]) ? this.layer[0] : [];\r\n\r\n      for (let i=1; i<this._layer.length; i++) {\r\n        _markers = _markers.concat(this._layer[i]);\r\n      }\r\n    } else {\r\n      _markers = Array.isArray(this.layer[_layer]) ? this.layer[_layer] : [];\r\n    }\r\n\r\n    if (_index!=-1) {\r\n      _markers = _markers.filter((e) => e.mapId == _index);\r\n    }\r\n\r\n    return this.toggleMarker(_options, _markers);\r\n  }\r\n\r\n  toggleMarker(options, marker) {\r\n    let _marker,\r\n    _options = Object.assign({\r\n      show: true,\r\n      remove: false\r\n    }, options),\r\n    _arr,\r\n    _results = {\r\n      action: _options.show ? 'show' : _options.remove ? 'remove' : 'hide',\r\n      markers: []\r\n    };\r\n\r\n    _marker = this._findMarker(marker);\r\n\r\n    if (_options.show && !_options.remove) {\r\n      for (let i = 0; i < _marker.length; i++) {\r\n        if (_marker[i].mapId == -1) {\r\n          for (let j = 0; j < this._map.length; j++) {\r\n            _marker[i].setMap(this._map[j]);\r\n          }\r\n        } else _marker[i].setMap(this._map[_marker[i].mapId]);\r\n\r\n        _results.markers.push({markerId: _marker[i].markerId, mapId: _marker[i].mapId});\r\n      }\r\n    } else {\r\n      for (let i = 0; i < _marker.length; i++) {\r\n        _marker[i].setMap(null);\r\n        \r\n        if (_options.remove) {\r\n          _arr = _marker[i].markerId.split('-');\r\n          _arr[0] = parseInt(_arr[0]);\r\n          if (typeof _arr[0] != 'string') this._layer[_arr[0]] = this._layer[parseInt(_arr[0])].filter((e) => !(e.markerId == _marker[i].markerId && e.mapId == _marker[i].mapId));\r\n        }\r\n\r\n        _results.markers.push({markerId: _marker[i].markerId, mapId: _marker[i].mapId});\r\n      }\r\n    }\r\n\r\n    return _results;\r\n  }\r\n\r\n  _findMarker (marker, index=-1) {\r\n    let _marker,\r\n    _arr,\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1;\r\n\r\n    if (typeof marker == 'string') {\r\n      _arr = marker.split('-');\r\n\r\n      if (_arr.length > 3) {\r\n        _arr[0] = parseInt(_arr[0]);\r\n        if (typeof _arr[0] != 'string') _marker = this._layer[_arr[0]].filter((e) => e.markerId == marker);\r\n      } else _marker = [];\r\n    } else {\r\n      _marker = Array.isArray(marker)?marker:[marker];\r\n    }\r\n\r\n    if (_index != -1 && _marker.length > 0) {\r\n      _marker = _marker.filter((e) => e.mapId == _index);\r\n    }\r\n\r\n    return _marker;\r\n  }\r\n\r\n  nearMarkers (center, radius=1, layer=-1, index=-1) {\r\n    function _rad(x) {\r\n      return x * Math.PI / 180;\r\n    }\r\n\r\n    let _layer = parseInt(layer) == 0 ? 0 : parseInt(layer) || -1,\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _km = 6371,\r\n    _markers = [],\r\n    _nearMarkers = [];\r\n\r\n    if (_layer == -1) {\r\n      for (let i=0; i<this._layer.length; i++) {\r\n        if (Array.isArray(this._layer[i])) _markers = _markers.concat(this._layer[i]);\r\n      }\r\n    } else if (Array.isArray(this._layer[_layer])) {\r\n      _marker = this._layer[_layer];\r\n    }\r\n\r\n    for (let i=0; i<_markers.length; i++) {\r\n      let _pos = {lat: _markers[i].position.lat(), lng: _markers[i].position.lng()},\r\n      _dPos = {lat: _rad(_pos.lat - center.lat), lng: _rad(_pos.lng - center.lng)},\r\n      _a = Math.sin(_dPos.lat/2) * Math.sin(_dPos.lat/2) +\r\n        Math.cos(_rad(center.lat)) * Math.cos(_rad(center.lat)) * Math.sin(_dPos.lng/2) * Math.sin(_dPos.lng/2),\r\n      _c = 2 * Math.atan2(Math.sqrt(_a), Math.sqrt(1-_a)),\r\n      _d = _km * _c;\r\n\r\n      if (_d <= radius) {\r\n        if (_index == -1 || _markers[i].mapId == _index) \r\n          _nearMarkers.push(_markers[i]);\r\n      }\r\n    }\r\n\r\n    return _nearMarkers;\r\n  }\r\n\r\n  get map () {return this._map;}\r\n\r\n  get layer () {return this._layer;}\r\n\r\n  get zoom() {\r\n    let _zoom = [];\r\n\r\n    for (let i=0; i<this._map.length; i++) {\r\n      _zoom.push(this._map[i].getZoom());\r\n    }\r\n\r\n    return _zoom;\r\n  }\r\n\r\n  get center() {\r\n    let _center = [];\r\n\r\n    for (let i=0; i<this._map.length; i++) {\r\n      _center.push({lat: this._map[i].getCenter().lat(), lng: this._map[i].getCenter().lng()});\r\n    }\r\n\r\n    return _center;\r\n  }\r\n}","import Map from 'map/map.class';\r\n\r\nconst map = new Map('#map1, #map2', {\r\n\tkey: \"AIzaSyAlpRoexXX5SR56A3dvQmQ2Hcc3ZCXHB30\",\r\n\tlanguage: 'zh-TW',\r\n\tlibraries: ['place', 'geometry'],\r\n\tevents: {\r\n\t\tclick: function(event, self) {\r\n\t\t\tlet _layer = document.getElementById('mapLayer').value;\r\n\t\t\tmap.addMarkers([{position: event.latLng, layer: _layer, draggable: true}], self.mapIndex);\r\n\t\t\t// console.log(event);\r\n\t\t\t// console.log('click');\r\n\t\t\t// console.log(map.zoom);\r\n\t\t\t// console.log(map.center);\r\n\r\n\t\t\tmap.setCenter(event.latLng, true, self.mapIndex);\r\n\t\t}\r\n\t},\r\n\tmarkers: {\r\n\t\tposition: {lat: 22.28552, lng: 114.15769},\r\n\t\tevents: {\r\n\t\t\tclick: function(event, self) {\r\n\t\t\t\t// console.log(self);\r\n\t\t\t\tmap.toggleMarker({remove: true}, self);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nmap.waitReady(function() {\r\n\tlet markerClick = {\r\n\t\tclick: function(event, self) {\r\n\t\t\tlet _layer = self.markerId.split('-');\r\n\t\t\tmap2.setCenter({lat: self.position.lat(), lng: self.position.lng()}, false)\r\n\t\t\tswitch(_layer[0]) {\r\n\t\t\t\tcase '0': \r\n\t\t\t\t\tmap2.setZoom(map2Options.lv2);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '1':\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv3);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '2':\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv4);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst map2Options = {\r\n\t\tzoom: 12,\r\n\t\tminZoom: 12,\r\n\t\tmaxZoom: 20,\r\n\t\tlv2: 14,\r\n\t\tlv3: 16,\r\n\t\tlv4: 18\r\n\t};\r\n\tconst map2 = new Map('#map3', {\r\n\t\tscrollwheel: false,\r\n\t\tdisableDoubleClickZoom: true,\r\n\t\tzoom: map2Options.zoom,\r\n\t\tmaxZoom: map2Options.maxZoom,\r\n\t\tminZoom: map2Options.minZoom,\r\n\t\tstreetViewControl: false,\r\n\t\tfullscreenControl: false,\r\n\t\tmapTypeControl: false,\r\n\t\tevents: {\r\n\t\t\tdblclick: function(event, self) {\r\n\t\t\t\tlet _zoom = map2.zoom[self.mapIndex];\r\n\t\t\t\tmap2.setCenter({lat: event.latLng.lat(), lng: event.latLng.lng()}, false);\r\n\r\n\t\t\t\tif (_zoom < map2Options.lv2) {\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv2);\r\n\t\t\t\t} else if (_zoom < map2Options.lv3) {\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv3);\r\n\t\t\t\t} else if (_zoom < map2Options.lv4) {\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv4);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tzoom_changed: function(event, self) {\r\n\t\t\t\tlet _zoom = map2.zoom[self.mapIndex];\r\n\t\t\t\tmap2.toggleLayer({show: false});\r\n\t\t\t\tif (_zoom < map2Options.lv2) {\r\n\t\t\t\t\tmap2.toggleLayer({show: true}, 0);\r\n\t\t\t\t} else if (_zoom < map2Options.lv3) {\r\n\t\t\t\t\tmap2.toggleLayer({show: true}, 1);\r\n\t\t\t\t} else if (_zoom < map2Options.lv4) {\r\n\t\t\t\t\tmap2.toggleLayer({show: true}, 2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmap2.toggleLayer({show: true}, 3);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmarkers: [\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.26479252616582, lng: 113.9421272277832},\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\ttitle: 'Islands',\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.35245727253212, lng: 114.11859512329102},\r\n\t\t\t\t'title': 'Kwai Tsing',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.51921715492658, lng: 114.16683197021484},\r\n\t\t\t\t'title': 'North',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.343407483680966, lng: 114.2519760131836},\r\n\t\t\t\t'title': 'Sai Kung',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.395475418673982, lng: 114.20391082763672},\r\n\t\t\t\t'title': 'Sha Tin',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.474809756551785, lng: 114.16339874267578},\r\n\t\t\t\t'title': 'Tai Po',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.398014819650584, lng: 114.08100128173828},\r\n\t\t\t\t'title': 'Tsuen Wan',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.405632744261258, lng: 113.97457122802734},\r\n\t\t\t\t'title': 'Tuen Mun',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.47163725423792, lng: 114.0549087524414},\r\n\t\t\t\t'title': 'Yuen Long',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.323559398723226, lng: 114.18794631958008},\r\n\t\t\t\t'title': 'Kowloon City',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.311808001721275, lng: 114.23257827758789},\r\n\t\t\t\t'title': 'Kwun Tong',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.339755648113528, lng: 114.15327072143555},\r\n\t\t\t\t'title': 'Sham Shui Po',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.338485422016195, lng: 114.22159194946289},\r\n\t\t\t\t'title': 'Wong Tai Sin',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.309902276555697, lng: 114.17078018188477},\r\n\t\t\t\t'title': 'Yau Tsim Mong',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.274959374113703, lng: 114.15121078491211},\r\n\t\t\t\t'title': 'Central and Western',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.27337085282337, lng: 114.22296524047852},\r\n\t\t\t\t'title': 'Eastern',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.248269822953652, lng: 114.20099258422852},\r\n\t\t\t\t'title': 'Southern',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.274641671298806, lng: 114.1889762878418},\r\n\t\t\t\t'title': 'Wan Chai',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.348416, lng: 114.126161},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Lai King\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3080749, lng: 114.2018982},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Kowloon Bay\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.322466, lng: 114.2167592},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Ngau Tau Kok\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3377402, lng: 114.1862935},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Lok Fu\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3, lng: 114.2},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Diamond Hill\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.334546, lng: 114.208764},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Ngau Chi Wan\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3548115, lng: 114.1974398},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Wong Tai Sin\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3364426, lng: 114.1989259},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"San Po Kong\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3221916, lng: 114.189293},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Ma Tau Chung\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.28552, lng: 114.15769},\r\n\t\t\t\tlayer: 2,\r\n\t\t\t\ttitle: \"Lai King\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.28552, lng: 114.15769},\r\n\t\t\t\tlayer: 3,\r\n\t\t\t\ttitle: \"Lai King\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t}\r\n\t\t],\r\n\t\tstyles: [\t\r\n\t\t  {\r\n\t\t    \"featureType\": \"administrative\",\r\n\t\t    \"elementType\": \"geometry\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  },\r\n\t\t  {\r\n\t\t    \"featureType\": \"administrative.land_parcel\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  },\r\n\t\t  {\r\n\t\t    \"featureType\": \"poi\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  },\r\n\t\t  {\r\n\t\t    \"featureType\": \"road\",\r\n\t\t    \"elementType\": \"labels.icon\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  },\r\n\t\t  {\r\n\t\t    \"featureType\": \"transit\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  }\r\n\t\t]\r\n\t});\r\n\r\n\tmap2.waitReady(function() {\r\n\t\tmap2.toggleLayer({show: false});\r\n\t\tmap2.toggleLayer({show: true}, 0);\r\n\t});\r\n});\r\n\r\ndocument.getElementById('hideLayer').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({show: false}, layer, -1);\r\n});\r\n\r\ndocument.getElementById('showLayer').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({show: true}, layer, -1);\r\n});\r\n\r\ndocument.getElementById('hideLayers').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({show: false}, -1, -1);\r\n});\r\n\r\ndocument.getElementById('showLayers').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({show: true}, -1, -1);\r\n});\r\n\r\ndocument.getElementById('removeLayer').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({remove: true}, layer, -1);\r\n});\r\n\r\ndocument.getElementById('nearMarkers').addEventListener('click', () => {\r\n\tmap.toggleLayer({show: false}, -1, -1);\r\n\tlet _markers = map.nearMarkers(map.center[0], 0.2);\r\n\r\n\tfor (let i=0; i<_markers.length; i++) {\r\n\t\tmap.toggleMarker({show: true}, _markers[i]);\r\n\t}\r\n});\r\n\r\nmodule.exports = map;","// Object.assign (IE support)\r\nif (typeof Object.assign === 'undefined') Object.assign = function() {\r\n\tlet objs = arguments[0] && typeof arguments[0] === 'object' ? arguments[0] : {};\r\n\r\n\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\tif (typeof arguments[i] === 'object') {\r\n\t\t\tfor (let key in arguments[i]) {\r\n\t\t\t\tobjs[key] = arguments[i][key];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn objs;\r\n};","export default class plugin {\r\n  constructor() {\r\n    this._ready = false;\r\n  }\r\n\r\n  // load plugin file if html not load the file\r\n  _loadPlugin(url, callback) {\r\n    // Adding the script tag to the head as suggested before\r\n    let head = document.getElementsByTagName('head')[0];\r\n    let script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = url;\r\n\r\n    // Then bind the event to the callback function.\r\n    // There are several events for cross browser compatibility.\r\n    script.addEventListener(\"load\", () => {callback(this);});\r\n\r\n    // Fire the loading\r\n    head.appendChild(script);\r\n\r\n    return url;\r\n  }\r\n\r\n  waitReady(callback) {\r\n    function _callback(self) {\r\n      if (self._ready) {\r\n        callback();\r\n        if (_timer != null) clearInterval(_timer);\r\n      } else if (_timer == null) {\r\n        _timer = setInterval(() => {\r\n          _callback(self);\r\n        }, 200);\r\n      }\r\n    }\r\n\r\n    let _timer = null;\r\n\r\n    _callback(this);\r\n\r\n    return true;\r\n  }\r\n\r\n  get ready () {return this._ready;}\r\n}"]}