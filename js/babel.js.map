{"version":3,"sources":["node_modules/browser-pack/_prelude.js","_stream_0.js","src/app/deepLink/deepLink.class.js","src/app/map/map.class.js","src/app/map/map.component.js","src/app/object/object.property.js","src/app/plugin/plugin.class.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","deepLink","default","addDeepLink","console","log","_map2","waitReady","map","center","nearMarkers","DeepLink","arguments","undefined","_classCallCheck","this","_devices","windows","store","userAgent","android","ios","_os","_getUserAgent","_deepLinkEle","_options","delay","support","href","addName","key","navigator","match","options","_store","id","appName","ele","Object","assign","_ele","document","querySelectorAll","_self","_selfOptions","getAttribute","_getStore","deepLinkOptions","onclick","event","preventDefault","stopImmediatePropagation","push","_this","onLoadOpen","_delay","setTimeout","_start","getTime","_timeout","_now","clearTimeout","window","location","Map","_possibleConstructorReturn","__proto__","getPrototypeOf","language","region","zoom","lat","lng","_map","_layer","_ready","_mapEle","google","_initMap","_api","replace","libraries","search","_loadPlugin","self","geolocation","geolocationOption","events","markers","backgroundColor","_latlng","split","clickableIcons","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOption","position","gestureHandling","heading","Number","keyboardShortcuts","mapTypeControl","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetViewControl","streetViewControlOptions","tilt","zoomControl","zoomControlOptions","maps","mapIndex","_geolocation","addEvents","addMarkers","index","handleLocationError","browserHasGeolocation","pos","_this2","_index","parseInt","getCurrentPosition","coords","latitude","longitude","marker","setCenter","getCenter","_setZoom","setZoom","_results","_setCenter","panTo","concat","_addEvent","_disableOther","clearListeners","addListener","_callback","type","markerId","mapId","callback","disableOther","_marker2","_findMarker","_i","_addMarkers","j","_markers","_marker3","layer","_addMarker","Array","isArray","_marker4","_events","_event","Marker","show","remove","filter","toggleMarker","_this3","_marker","_arr","action","setMap","_i2","_loop","_rad","x","Math","PI","radius","_nearMarkers","_i3","_pos","_dPos","_a","sin","cos","atan2","sqrt","_zoom","getZoom","_center","click","getElementById","value","latLng","markerClick","map2","map2Options","lv2","lv3","lv4","dblclick","zoom_changed","toggleLayer","title","styles","featureType","elementType","stylers","visibility","addEventListener","objs","_typeof","plugin","url","head","getElementsByTagName","script","createElement","src","appendChild","_timer","clearInterval","setInterval"],"mappings":"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","file":"babel.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// start with es6 coding\r\nimport map from \"map/map.component\";\r\nimport DeepLink from \"deepLink/deepLink.class\";\r\n\r\nconst deepLink = new DeepLink();\r\n\r\ndeepLink.addDeepLink();\r\n\r\nconsole.log(deepLink.deepLink);\r\n\r\nmap.waitReady(function() {\r\n\tconsole.log(map.map);\r\n\tconsole.log(map.center[0]);\r\n\tconsole.log(map.nearMarkers(map.center[0]));\r\n});","import 'object/object.property';\r\n\r\n// deep link\r\nexport default class DeepLink {\r\n  \tconstructor(options={}) {\r\n\t  \tthis._devices = {\r\n\t  \t\twindows: {\t// window phone\r\n\t\t\t\tstore: 'zune:navigate?appid=',\r\n\t\t\t\tuserAgent: /Windows\\s+Phone|IEMobile/i\r\n\t\t\t},\r\n\t\t\tandroid: {\t// android system\r\n\t\t\t\tstore: 'market://details?=',\r\n\t\t\t\tuserAgent: /Android/i\r\n\t\t\t},\r\n\t\t\tios: {\t// ios\r\n\t\t\t\tstore: 'itms-apps://itunes.apple.com/hk/app/',\r\n\t\t\t\tuserAgent: /iPhone|iPad|iPod/i\r\n\t\t\t}\r\n\t  \t};\r\n\r\n\t  \tthis._os = this._getUserAgent();\r\n\r\n\t  \tthis._deepLinkEle = []; \r\n\r\n\t  \tthis._options = {\r\n\t  \t\tdelay: 1200,\r\n\t  \t\twindows: {\r\n\t  \t\t\tsupport: false\r\n\t  \t\t},\r\n\t  \t\tandroid: {\r\n\t  \t\t\tsupport: true\r\n\t  \t\t},\r\n\t  \t\tios: {\r\n\t  \t\t\tsupport: true\r\n\t  \t\t},\r\n\t  \t\thref: 'javascript:;',\r\n\t  \t\tdeepLink: null,\r\n\t  \t\tstore: null,\r\n\t  \t\taddName: ''\r\n\t  \t};\r\n  \t}\r\n\r\n  \t_getUserAgent() {\r\n\t  \tfor (let key in this._devices) {\r\n\t  \t\tif (navigator.userAgent.match(this._devices[key].userAgent)) return key;\r\n\t  \t}\r\n\r\n\t  \treturn 'other';\r\n  \t}\r\n\r\n  \t_getStore(options={}) {\r\n  \t\tlet _store = this._devices[this._os];\r\n\r\n  \t\tif (options[this._os].id){\r\n\t\t\tswitch (this._os) {\r\n\t\t\t\tcase 'ios':\r\n\t\t\t\t\tif (options.appName != '')\r\n\t\t\t\t\t\t_store = this._devices.ios + options.appName + '/id' + options.ios.id;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t_store = this._devices.ios + options.ios.id;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'windows':\r\n\t\t\t\tcase 'android':\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t_store = this._devices[this._os] + options[this._os].id;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t} else _store = options.href ? options.href : 'javascript:;';\r\n\r\n\t\treturn _store;\r\n  \t}\r\n\r\n  \taddDeepLink (ele='.deepLink', options={}) {\r\n  \t\tlet _options = Object.assign({}, this._options, options),\r\n  \t\t_ele = document.querySelectorAll(ele),\r\n  \t\t_self = this,\r\n  \t\t_selfOptions = {};\r\n\r\n  \t\tif (this._os !== 'other') {\r\n\t  \t\tfor (let i = 0; i < _ele.length; i++) {\r\n\t  \t\t\t_selfOptions = {\r\n\t  \t\t\t\twindows: {\r\n\t  \t\t\t\t\tsupport: _options.windows.support\r\n\t  \t\t\t\t},\r\n\t  \t\t\t\tandroid: {\r\n\t  \t\t\t\t\tsupport: _options.android.support\r\n\t  \t\t\t\t},\r\n\t  \t\t\t\tios: {\r\n\t  \t\t\t\t\tsupport: _options.ios.support\r\n\t  \t\t\t\t}\r\n\t  \t\t\t};\r\n\r\n\t  \t\t\tif (_ele[i].getAttribute('data-deepLink')) _selfOptions.deepLink = _ele[i].getAttribute('data-deepLink');\r\n\t  \t\t\tif (_ele[i].getAttribute('data-app-name')) _selfOptions.appName = _ele[i].getAttribute('data-app-name');\r\n\t  \t\t\tif (_ele[i].getAttribute('data-android')) _selfOptions.android.id = _ele[i].getAttribute('data-android');\r\n\t  \t\t\tif (_ele[i].getAttribute('data-ios')) _selfOptions.ios.id = _ele[i].getAttribute('data-ios');\r\n\t  \t\t\tif (_ele[i].getAttribute('data-windows')) _selfOptions.windows.id = _ele[i].getAttribute('data-windows');\r\n\r\n\t  \t\t\t_selfOptions = Object.assign({}, _options, _selfOptions);\r\n\r\n\t  \t\t\tif (_selfOptions[this._os].support) {\r\n\t  \t\t\t\t_selfOptions.store = this._getStore(_selfOptions);\r\n\r\n\t  \t\t\t\t_ele[i].deepLinkOptions = Object.assign({}, _selfOptions);\r\n\r\n\t\t  \t\t\t_ele[i].onclick = function(event) {\r\n\t\t  \t\t\t\tevent.preventDefault();\r\n\t\t  \t\t\t\tevent.stopImmediatePropagation();\r\n\r\n\t\t  \t\t\t\t_self.call(this.deepLinkOptions);\r\n\r\n\t\t  \t\t\t\treturn true;\r\n\t\t  \t\t\t};\r\n\r\n\t  \t\t\t\tthis._deepLinkEle.push(_ele[i]);\r\n\t  \t\t\t}\r\n  \t\t\t}\r\n  \t\t}\r\n\r\n  \t\treturn this._deepLinkEle;\r\n  \t}\r\n\r\n  \tcall (options={}, onLoadOpen=false) {\r\n  \t\tlet _options = Object.assign({}, this._options, options),\r\n  \t\t_delay = onLoadOpen && this._os === 'android' ? 500 : 0;\r\n\r\n\t\tif (!_options.store) _options.store = this._getStore(_options);\r\n\r\n\t\treturn setTimeout(() => {\r\n\t\t\tlet _start = getTime();\r\n\t\t\tif (_options[this._os].support) {\r\n\t\t\t\tif (_options.deepLink != null) {\r\n\t\t\t\t\tlet _timeout = setTimeout(() => {\r\n\t\t  \t\t\t\t// Get current time\r\n\t\t  \t\t\t\tlet _now = getTime();\r\n\r\n\t\t  \t\t\t\t// clear timeout\r\n\t\t  \t\t\t\tclearTimeout(_timeout);\r\n\r\n\t\t  \t\t\t\t// Has the user left the screen? ABORT!\r\n\t\t\t\t\t\tif(_now - _start >= _options.delay * 2) return;\r\n\r\n\t\t\t\t\t\t// Open store or original link\r\n\t\t\t\t\t\twindow.location = _options.store;\r\n\t\t  \t\t\t}, _options.delay);\r\n\r\n\t\t  \t\t\t// try open deep link\r\n\t\t  \t\t\twindow.location = _options.deepLink;\r\n\t\t\t\t} else window.location = _options.store;\r\n\t  \t\t} else window.location = _options.href;\r\n\t\t}, _delay);\r\n  \t}\r\n\r\n\tget os() {return this._os;}\r\n\r\n\tget deepLink() {return this._deepLinkEle;}\r\n}","import 'object/object.property';\r\nimport plugin from 'plugin/plugin.class';\r\n\r\n// Google Maps\r\nexport default class Map extends plugin {\r\n  constructor(map=\".map\", options={}) {\r\n    super(map, options)\r\n    this._options = Object.assign({\r\n      key: '',\r\n      language: '',\r\n      region: '',\r\n      zoom: 10,\r\n      center: {\r\n        lat: 22.28552,\r\n        lng: 114.15769\r\n      }\r\n    }, options);\r\n\r\n    this._map = [];\r\n\r\n    this._layer = [];\r\n\r\n    this._ready = false;\r\n\r\n    this._mapEle = document.querySelectorAll(map);\r\n\r\n    if (typeof google !== 'undefined') {  // with google api\r\n      this._initMap(this);\r\n    } else {  // without google api\r\n      // google api not ready\r\n      let _api = 'https://maps.googleapis.com/maps/api/js';\r\n      if (this._options.key != '' || this._options.language != '' || this._options.region != '') _api += '?';\r\n      if (this._options.key != '') _api += 'key=' + this._options.key;\r\n      if (this._options.language != '' && this._options.key != '') _api += '&';\r\n      if (this._options.language != '') _api += 'language=' + this._options.language;\r\n      if (this._options.region != '' && (this._options.key != '' || this._options.language != '')) _api += '&';\r\n      if (this._options.region != '') _api += 'region=' + this._options.region;\r\n      if (this._options.region == 'cn') _api = _api.replace('https://maps.googleapis.com', 'http://maps.google.cn');\r\n      if (this._options.libraries) {\r\n        _api += _api.search('=') == -1 ? '?libraries=' : '&libraries=';\r\n\r\n        for(let i=0; i< this._options.libraries.length; i++) { \r\n          _api += i == 0 ? this._options.libraries[i] : (','+ this._options.libraries[i]);\r\n        }\r\n      }\r\n      this._loadPlugin(_api, this._initMap);\r\n    }\r\n  }\r\n\r\n  _initMap(self) {\r\n    let _options = {};\r\n\r\n    for (let i=0; i<self._mapEle.length; i++) {\r\n      _options = Object.assign({}, self._options);\r\n\r\n      delete _options.key;\r\n      delete _options.geolocation;\r\n      delete _options.geolocationOption;\r\n      delete _options.events;\r\n      delete _options.markers;\r\n      delete _options.language;\r\n      delete _options.region;\r\n\r\n      if (self._mapEle[i].getAttribute(\"data-map-background-color\")) _options.backgroundColor = self._mapEle[i].getAttribute(\"data-map-background-color\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-center\")) {\r\n        let _latlng = self._mapEle[i].getAttribute(\"data-map-center\").replace(/ /g, \"\").split(',');\r\n        if (_latlng.length >= 2) _options.center = {lat: _latlng[0], lng: _latlng[1]};\r\n      }\r\n      if (self._mapEle[i].getAttribute(\"data-map-clickable-icons\")) _options.clickableIcons = self._mapEle[i].getAttribute(\"data-map-clickable-icons\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-disable-default-ui\")) _options.disableDefaultUI = self._mapEle[i].getAttribute(\"data-map-disable-default-ui\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-disable-double-click-zoom\")) _options.disableDoubleClickZoom = self._mapEle[i].getAttribute(\"data-map-disable-double-click-zoom\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-draggable\")) _options.draggable = self._mapEle[i].getAttribute(\"data-map-draggable\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-draggable-cursor\")) _options.draggableCursor = self._mapEle[i].getAttribute(\"data-map-draggable-cursor\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-dragging-cursor\")) _options.draggingCursor = self._mapEle[i].getAttribute(\"data-map-dragging-cursor\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-fullscreen-control\")) _options.fullscreenControl = self._mapEle[i].getAttribute(\"data-map-fullscreen-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-fullscreen-control-option\")) _options.fullscreenControlOption = {position: self._mapEle[i].getAttribute(\"data-map-fullscreen-control-option\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-gesture-handling\")) _options.gestureHandling = self._mapEle[i].getAttribute(\"data-map-gesture-handling\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-heading\")) _options.heading = Number(self._mapEle[i].getAttribute(\"data-map-heading\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-keyboard-shortcuts\")) _options.keyboardShortcuts = self._mapEle[i].getAttribute(\"data-map-keyboard-shortcuts\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-map-type-control\")) _options.mapTypeControl = self._mapEle[i].getAttribute(\"data-map-map-type-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-map-type-id\")) _options.mapTypeId = self._mapEle[i].getAttribute(\"data-map-map-type-id\");\r\n      if (self._mapEle[i].getAttribute(\"data-map-max-zoom\")) _options.maxZoom = Number(self._mapEle[i].getAttribute(\"data-map-max-zoom\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-min-zoom\")) _options.minZoom = Number(self._mapEle[i].getAttribute(\"data-map-min-zoom\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-no-clear\")) _options.noClear = self._mapEle[i].getAttribute(\"data-map-no-clear\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-pan-control\")) _options.panControl = self._mapEle[i].getAttribute(\"data-map-pan-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-pan-control-options\")) _options.panControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-pan-control-options\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-rotate-control\")) _options.rotateControl = self._mapEle[i].getAttribute(\"data-map-rotate-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-rotate-control-options\")) _options.rotateControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-rotate-control-options\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-scale-control\")) _options.scaleControl = self._mapEle[i].getAttribute(\"data-map-scale-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-scale-control-options\")) _options.scaleControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-scale-control-options\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-scrollwheel\")) _options.scrollwheel = self._mapEle[i].getAttribute(\"data-map-scrollwheel\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-street-view-control\")) _options.streetViewControl = self._mapEle[i].getAttribute(\"data-map-street-view-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-street-view-control-options\")) _options.streetViewControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-street-view-control-options\")};\r\n      if (self._mapEle[i].getAttribute(\"data-map-tilt\")) _options.tilt = Number(self._mapEle[i].getAttribute(\"data-map-tilt\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-zoom\")) _options.zoom = Number(self._mapEle[i].getAttribute(\"data-map-zoom\"));\r\n      if (self._mapEle[i].getAttribute(\"data-map-zoom-control\")) _options.zoomControl = self._mapEle[i].getAttribute(\"data-map-zoom-control\") === \"true\";\r\n      if (self._mapEle[i].getAttribute(\"data-map-zoom-control-options\")) _options.zoomControlOptions = {position: self._mapEle[i].getAttribute(\"data-map-zoom-control-options\")};\r\n\r\n      self._map.push(new google.maps.Map(self._mapEle[i], _options));\r\n\r\n      self._map[i].mapIndex = i;\r\n\r\n      if (self._mapEle[i].getAttribute(\"data-map-geolocation\") === \"true\" || self._options.geolocation) self._geolocation(i);\r\n    \r\n      if (self._options.events) {\r\n        self.addEvents(self._options.events, i);\r\n      }\r\n\r\n      if (self._options.markers) {\r\n        self.addMarkers(self._options.markers, i);\r\n      }\r\n    }\r\n\r\n    self._ready = true;\r\n  }\r\n\r\n  _geolocation(index) {\r\n    let _options = this._options.geolocationOption ? this._options.geolocationOption : {},\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1;\r\n\r\n    // Try HTML5 geolocation.\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        let pos = {\r\n          lat: position.coords.latitude,\r\n          lng: position.coords.longitude\r\n        };\r\n\r\n        if (_options.marker) {\r\n          _options.marker.position = pos;\r\n          this.addMarkers([_options.marker]);\r\n        }\r\n\r\n        this._map[_index].setCenter(pos);\r\n      }, () => {\r\n        handleLocationError(true, this._map[index].getCenter());\r\n      }, _options);\r\n    } else {\r\n      // Browser doesn't support Geolocation\r\n      handleLocationError(false, this._map[index].getCenter());\r\n    }\r\n\r\n    function handleLocationError(browserHasGeolocation, pos) {\r\n      // console.log(pos);\r\n      // console.log(browserHasGeolocation ?\r\n      //   'Error: The Geolocation service failed.' :\r\n      //   'Error: Your browser doesn\\'t support geolocation.');\r\n    }\r\n  }\r\n\r\n  setZoom(zoom, index=-1) {\r\n    function _setZoom (map) {\r\n      map.setZoom(zoom);\r\n      _results.push(map.mapIndex);\r\n    }\r\n\r\n    let _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _results = [];\r\n\r\n    if (_index == -1) {\r\n      for (let i = 0; i < this._map.length; i++) {\r\n        _setZoom(this._map[i]);\r\n      }\r\n    } else {\r\n      if (this._map[_index]) {\r\n        _setZoom(this._map[_index]);\r\n      }\r\n    }\r\n\r\n    return _results.length <= 0 ? false : _results;\r\n  }\r\n\r\n  setCenter(center, panTo=true, index=-1) {\r\n    function _setCenter (map) {\r\n      if (panTo) map.panTo(center);\r\n      else map.setCenter(center);\r\n      _results.push(map.mapIndex);\r\n    }\r\n\r\n    let _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _results = [];\r\n\r\n    if (_index == -1) {\r\n      for (let i = 0; i < this._map.length; i++) {\r\n        _setCenter(this._map[i]);\r\n      }\r\n    } else {\r\n      if (this._map[_index]) {\r\n        _setCenter(this._map[_index]);\r\n      }\r\n    }\r\n\r\n    return _results.length <= 0 ? false : _results;\r\n  }\r\n\r\n  addEvents(options, index=-1) {\r\n    let _results = [];\r\n\r\n    for(let key in options) { \r\n      _results = _results.concat(this._addEvent(key, options[key], index)); \r\n    }\r\n\r\n    return _results;\r\n  }\r\n  \r\n  _addEvent(event, options, index=-1) {\r\n    function _addEvent (ele) {\r\n      if (_disableOther) google.maps.event.clearListeners(ele, event);\r\n      ele.addListener(event, function(e) {\r\n        _callback(e, this);\r\n      });\r\n      _results.push({\r\n        type: options.type ? options.type : 'map', \r\n        event: event, \r\n        markerId: ele.markerId ? ele.markerId : null, \r\n        mapIndex: ele.mapIndex ? ele.mapIndex : ele.mapId\r\n      })\r\n    }\r\n\r\n    let _callback = typeof options === 'function' ? options : options.callback,\r\n    _disableOther = options.disableOther === true,\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _results = [];\r\n\r\n    switch(options.type) {\r\n      case 'marker':   // add to marker\r\n        let _marker = _marker = this._findMarker(options.marker, _index);\r\n        \r\n        for (let i = 0; i < _marker.length; i++) {\r\n          _addEvent(_marker[i]);\r\n        }\r\n        break;\r\n      default:  // add to map\r\n        if (_index == -1) {\r\n          for (let i = 0; i < this._map.length; i++) {\r\n            _addEvent(this._map[i]);\r\n          }\r\n        } else {\r\n          if (this._map[_index]) {\r\n            _addEvent(this._map[_index]);\r\n          }\r\n        }\r\n        break;\r\n    }\r\n\r\n    return _results;\r\n  }\r\n\r\n  addMarkers(markers, index=-1) {\r\n    function _addMarkers(self, map) {\r\n      for (let j=0; j<_markers.length; j++) {\r\n        let _marker = Object.assign({}, _markers[j]),\r\n        _layer = parseInt(_marker.layer) || 0;\r\n        if (_layer < 0) _layer = 0;\r\n        \r\n        _marker.map = map;\r\n\r\n        delete _marker.layer;\r\n        \r\n        self._addMarker(_marker, _layer, map.mapIndex);\r\n      }\r\n\r\n      _results.push({mapIndex: map.mapIndex, addMarkers: _markers.length});\r\n    }\r\n\r\n    let _markers = Array.isArray(markers) ? markers : [markers],\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _results = [];\r\n\r\n    if (_index == -1) {\r\n      for (let i = 0; i < this._map.length; i++) {\r\n        _addMarkers(this, this._map[i]);\r\n      }\r\n    } else {\r\n      if (this._map[_index]) {\r\n        _addMarkers(this, this._map[_index]);\r\n      }\r\n    }\r\n\r\n    return _results;\r\n  }\r\n\r\n  _addMarker(marker, layer=0, index=0) {\r\n    if (marker.position) {\r\n      let _options = marker, \r\n      _marker,\r\n      _index = parseInt(index) || 0,\r\n      _events = marker.events,\r\n      _event;\r\n\r\n      delete _options.events;\r\n\r\n      _marker = new google.maps.Marker(_options);\r\n\r\n      if (this._layer.length < layer + 1) {\r\n        for (let i = this._layer.length; i < layer + 1; i++) {\r\n          this._layer.push([]);\r\n        }\r\n      }\r\n\r\n      _marker.markerId = layer + '-' + _marker.position.lat() + '-' + _marker.position.lng();\r\n      _marker.mapId = _index;\r\n\r\n      if (_events) {\r\n        for(let key in _events) { \r\n          _event = _events[key];\r\n\r\n          _event.type = 'marker';\r\n          _event.marker = _marker;\r\n\r\n          this._addEvent(key, _event, _index); \r\n        }\r\n      }\r\n\r\n      this._layer[layer].push(_marker);\r\n    }\r\n  }\r\n\r\n  toggleLayer(options, layer=-1, index=-1) {\r\n    let _markers,\r\n    _options = Object.assign({\r\n      show: true,\r\n      remove: false\r\n    }, options),\r\n    _layer = parseInt(layer) == 0 ? 0 : parseInt(layer) || -1,\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1;\r\n\r\n    if (_layer==-1) {\r\n      _markers = Array.isArray(this.layer[0]) ? this.layer[0] : [];\r\n\r\n      for (let i=1; i<this._layer.length; i++) {\r\n        _markers = _markers.concat(this._layer[i]);\r\n      }\r\n    } else {\r\n      _markers = Array.isArray(this.layer[_layer]) ? this.layer[_layer] : [];\r\n    }\r\n\r\n    if (_index!=-1) {\r\n      _markers = _markers.filter((e) => e.mapId == _index);\r\n    }\r\n\r\n    return this.toggleMarker(_options, _markers);\r\n  }\r\n\r\n  toggleMarker(options, marker) {\r\n    let _marker,\r\n    _options = Object.assign({\r\n      show: true,\r\n      remove: false\r\n    }, options),\r\n    _arr,\r\n    _results = {\r\n      action: _options.show ? 'show' : _options.remove ? 'remove' : 'hide',\r\n      markers: []\r\n    };\r\n\r\n    _marker = this._findMarker(marker);\r\n\r\n    if (_options.show && !_options.remove) {\r\n      for (let i = 0; i < _marker.length; i++) {\r\n        if (_marker[i].mapId == -1) {\r\n          for (let j = 0; j < this._map.length; j++) {\r\n            _marker[i].setMap(this._map[j]);\r\n          }\r\n        } else _marker[i].setMap(this._map[_marker[i].mapId]);\r\n\r\n        _results.markers.push({markerId: _marker[i].markerId, mapId: _marker[i].mapId});\r\n      }\r\n    } else {\r\n      for (let i = 0; i < _marker.length; i++) {\r\n        _marker[i].setMap(null);\r\n        \r\n        if (_options.remove) {\r\n          _arr = _marker[i].markerId.split('-');\r\n          _arr[0] = parseInt(_arr[0]);\r\n          if (typeof _arr[0] != 'string') this._layer[_arr[0]] = this._layer[parseInt(_arr[0])].filter((e) => !(e.markerId == _marker[i].markerId && e.mapId == _marker[i].mapId));\r\n        }\r\n\r\n        _results.markers.push({markerId: _marker[i].markerId, mapId: _marker[i].mapId});\r\n      }\r\n    }\r\n\r\n    return _results;\r\n  }\r\n\r\n  _findMarker (marker, index=-1) {\r\n    let _marker,\r\n    _arr,\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1;\r\n\r\n    if (typeof marker == 'string') {\r\n      _arr = marker.split('-');\r\n\r\n      if (_arr.length > 3) {\r\n        _arr[0] = parseInt(_arr[0]);\r\n        if (typeof _arr[0] != 'string') _marker = this._layer[_arr[0]].filter((e) => e.markerId == marker);\r\n      } else _marker = [];\r\n    } else {\r\n      _marker = Array.isArray(marker)?marker:[marker];\r\n    }\r\n\r\n    if (_index != -1 && _marker.length > 0) {\r\n      _marker = _marker.filter((e) => e.mapId == _index);\r\n    }\r\n\r\n    return _marker;\r\n  }\r\n\r\n  nearMarkers (center, radius=1, layer=-1, index=-1) {\r\n    function _rad(x) {\r\n      return x * Math.PI / 180;\r\n    }\r\n\r\n    let _layer = parseInt(layer) == 0 ? 0 : parseInt(layer) || -1,\r\n    _index = parseInt(index) == 0 ? 0 : parseInt(index) || -1,\r\n    _km = 6371,\r\n    _markers = [],\r\n    _nearMarkers = [];\r\n\r\n    if (_layer == -1) {\r\n      for (let i=0; i<this._layer.length; i++) {\r\n        if (Array.isArray(this._layer[i])) _markers = _markers.concat(this._layer[i]);\r\n      }\r\n    } else if (Array.isArray(this._layer[_layer])) {\r\n      _marker = this._layer[_layer];\r\n    }\r\n\r\n    for (let i=0; i<_markers.length; i++) {\r\n      let _pos = {lat: _markers[i].position.lat(), lng: _markers[i].position.lng()},\r\n      _dPos = {lat: _rad(_pos.lat - center.lat), lng: _rad(_pos.lng - center.lng)},\r\n      _a = Math.sin(_dPos.lat/2) * Math.sin(_dPos.lat/2) +\r\n        Math.cos(_rad(center.lat)) * Math.cos(_rad(center.lat)) * Math.sin(_dPos.lng/2) * Math.sin(_dPos.lng/2),\r\n      _c = 2 * Math.atan2(Math.sqrt(_a), Math.sqrt(1-_a)),\r\n      _d = _km * _c;\r\n\r\n      if (_d <= radius) {\r\n        if (_index == -1 || _markers[i].mapId == _index) \r\n          _nearMarkers.push(_markers[i]);\r\n      }\r\n    }\r\n\r\n    return _nearMarkers;\r\n  }\r\n\r\n  get map () {return this._map;}\r\n\r\n  get layer () {return this._layer;}\r\n\r\n  get zoom() {\r\n    let _zoom = [];\r\n\r\n    for (let i=0; i<this._map.length; i++) {\r\n      _zoom.push(this._map[i].getZoom());\r\n    }\r\n\r\n    return _zoom;\r\n  }\r\n\r\n  get center() {\r\n    let _center = [];\r\n\r\n    for (let i=0; i<this._map.length; i++) {\r\n      _center.push({lat: this._map[i].getCenter().lat(), lng: this._map[i].getCenter().lng()});\r\n    }\r\n\r\n    return _center;\r\n  }\r\n}","import Map from 'map/map.class';\r\n\r\nconst map = new Map('#map1, #map2', {\r\n\tkey: \"AIzaSyAlpRoexXX5SR56A3dvQmQ2Hcc3ZCXHB30\",\r\n\tlanguage: 'zh-TW',\r\n\tlibraries: ['place', 'geometry'],\r\n\tevents: {\r\n\t\tclick: function(event, self) {\r\n\t\t\tlet _layer = document.getElementById('mapLayer').value;\r\n\t\t\tmap.addMarkers([{position: event.latLng, layer: _layer, draggable: true}], self.mapIndex);\r\n\t\t\t// console.log(event);\r\n\t\t\t// console.log('click');\r\n\t\t\t// console.log(map.zoom);\r\n\t\t\t// console.log(map.center);\r\n\r\n\t\t\tmap.setCenter(event.latLng, true, self.mapIndex);\r\n\t\t}\r\n\t},\r\n\tmarkers: {\r\n\t\tposition: {lat: 22.28552, lng: 114.15769},\r\n\t\tevents: {\r\n\t\t\tclick: function(event, self) {\r\n\t\t\t\t// console.log(self);\r\n\t\t\t\tmap.toggleMarker({remove: true}, self);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nmap.waitReady(function() {\r\n\tlet markerClick = {\r\n\t\tclick: function(event, self) {\r\n\t\t\tlet _layer = self.markerId.split('-');\r\n\t\t\tmap2.setCenter({lat: self.position.lat(), lng: self.position.lng()}, false)\r\n\t\t\tswitch(_layer[0]) {\r\n\t\t\t\tcase '0': \r\n\t\t\t\t\tmap2.setZoom(map2Options.lv2);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '1':\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv3);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '2':\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv4);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst map2Options = {\r\n\t\tzoom: 12,\r\n\t\tminZoom: 12,\r\n\t\tmaxZoom: 20,\r\n\t\tlv2: 14,\r\n\t\tlv3: 16,\r\n\t\tlv4: 18\r\n\t};\r\n\tconst map2 = new Map('#map3', {\r\n\t\tscrollwheel: false,\r\n\t\tdisableDoubleClickZoom: true,\r\n\t\tzoom: map2Options.zoom,\r\n\t\tmaxZoom: map2Options.maxZoom,\r\n\t\tminZoom: map2Options.minZoom,\r\n\t\tstreetViewControl: false,\r\n\t\tfullscreenControl: false,\r\n\t\tmapTypeControl: false,\r\n\t\tevents: {\r\n\t\t\tdblclick: function(event, self) {\r\n\t\t\t\tlet _zoom = map2.zoom[self.mapIndex];\r\n\t\t\t\tmap2.setCenter({lat: event.latLng.lat(), lng: event.latLng.lng()}, false);\r\n\r\n\t\t\t\tif (_zoom < map2Options.lv2) {\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv2);\r\n\t\t\t\t} else if (_zoom < map2Options.lv3) {\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv3);\r\n\t\t\t\t} else if (_zoom < map2Options.lv4) {\r\n\t\t\t\t\tmap2.setZoom(map2Options.lv4);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tzoom_changed: function(event, self) {\r\n\t\t\t\tlet _zoom = map2.zoom[self.mapIndex];\r\n\t\t\t\tmap2.toggleLayer({show: false});\r\n\t\t\t\tif (_zoom < map2Options.lv2) {\r\n\t\t\t\t\tmap2.toggleLayer({show: true}, 0);\r\n\t\t\t\t} else if (_zoom < map2Options.lv3) {\r\n\t\t\t\t\tmap2.toggleLayer({show: true}, 1);\r\n\t\t\t\t} else if (_zoom < map2Options.lv4) {\r\n\t\t\t\t\tmap2.toggleLayer({show: true}, 2);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmap2.toggleLayer({show: true}, 3);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmarkers: [\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.26479252616582, lng: 113.9421272277832},\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\ttitle: 'Islands',\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.35245727253212, lng: 114.11859512329102},\r\n\t\t\t\t'title': 'Kwai Tsing',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.51921715492658, lng: 114.16683197021484},\r\n\t\t\t\t'title': 'North',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.343407483680966, lng: 114.2519760131836},\r\n\t\t\t\t'title': 'Sai Kung',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.395475418673982, lng: 114.20391082763672},\r\n\t\t\t\t'title': 'Sha Tin',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.474809756551785, lng: 114.16339874267578},\r\n\t\t\t\t'title': 'Tai Po',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.398014819650584, lng: 114.08100128173828},\r\n\t\t\t\t'title': 'Tsuen Wan',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.405632744261258, lng: 113.97457122802734},\r\n\t\t\t\t'title': 'Tuen Mun',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.47163725423792, lng: 114.0549087524414},\r\n\t\t\t\t'title': 'Yuen Long',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.323559398723226, lng: 114.18794631958008},\r\n\t\t\t\t'title': 'Kowloon City',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.311808001721275, lng: 114.23257827758789},\r\n\t\t\t\t'title': 'Kwun Tong',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.339755648113528, lng: 114.15327072143555},\r\n\t\t\t\t'title': 'Sham Shui Po',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.338485422016195, lng: 114.22159194946289},\r\n\t\t\t\t'title': 'Wong Tai Sin',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.309902276555697, lng: 114.17078018188477},\r\n\t\t\t\t'title': 'Yau Tsim Mong',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.274959374113703, lng: 114.15121078491211},\r\n\t\t\t\t'title': 'Central and Western',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.27337085282337, lng: 114.22296524047852},\r\n\t\t\t\t'title': 'Eastern',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.248269822953652, lng: 114.20099258422852},\r\n\t\t\t\t'title': 'Southern',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.274641671298806, lng: 114.1889762878418},\r\n\t\t\t\t'title': 'Wan Chai',\r\n\t\t\t\tlayer: 0,\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.348416, lng: 114.126161},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Lai King\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3080749, lng: 114.2018982},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Kowloon Bay\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.322466, lng: 114.2167592},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Ngau Tau Kok\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3377402, lng: 114.1862935},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Lok Fu\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3, lng: 114.2},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Diamond Hill\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.334546, lng: 114.208764},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Ngau Chi Wan\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3548115, lng: 114.1974398},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Wong Tai Sin\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3364426, lng: 114.1989259},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"San Po Kong\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.3221916, lng: 114.189293},\r\n\t\t\t\tlayer: 1,\r\n\t\t\t\ttitle: \"Ma Tau Chung\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.28552, lng: 114.15769},\r\n\t\t\t\tlayer: 2,\r\n\t\t\t\ttitle: \"Lai King\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tposition: {lat: 22.28552, lng: 114.15769},\r\n\t\t\t\tlayer: 3,\r\n\t\t\t\ttitle: \"Lai King\",\r\n\t\t\t\tevents: markerClick\r\n\t\t\t}\r\n\t\t],\r\n\t\tstyles: [\t\r\n\t\t  {\r\n\t\t    \"featureType\": \"administrative\",\r\n\t\t    \"elementType\": \"geometry\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  },\r\n\t\t  {\r\n\t\t    \"featureType\": \"administrative.land_parcel\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  },\r\n\t\t  {\r\n\t\t    \"featureType\": \"poi\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  },\r\n\t\t  {\r\n\t\t    \"featureType\": \"road\",\r\n\t\t    \"elementType\": \"labels.icon\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  },\r\n\t\t  {\r\n\t\t    \"featureType\": \"transit\",\r\n\t\t    \"stylers\": [\r\n\t\t      {\r\n\t\t        \"visibility\": \"off\"\r\n\t\t      }\r\n\t\t    ]\r\n\t\t  }\r\n\t\t]\r\n\t});\r\n\r\n\tmap2.waitReady(function() {\r\n\t\tmap2.toggleLayer({show: false});\r\n\t\tmap2.toggleLayer({show: true}, 0);\r\n\t});\r\n});\r\n\r\ndocument.getElementById('hideLayer').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({show: false}, layer, -1);\r\n});\r\n\r\ndocument.getElementById('showLayer').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({show: true}, layer, -1);\r\n});\r\n\r\ndocument.getElementById('hideLayers').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({show: false}, -1, -1);\r\n});\r\n\r\ndocument.getElementById('showLayers').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({show: true}, -1, -1);\r\n});\r\n\r\ndocument.getElementById('removeLayer').addEventListener('click', () => {\r\n\tlet layer = document.getElementById('mapLayer').value;\r\n\tmap.toggleLayer({remove: true}, layer, -1);\r\n});\r\n\r\ndocument.getElementById('nearMarkers').addEventListener('click', () => {\r\n\tmap.toggleLayer({show: false}, -1, -1);\r\n\tlet _markers = map.nearMarkers(map.center[0], 0.2);\r\n\r\n\tfor (let i=0; i<_markers.length; i++) {\r\n\t\tmap.toggleMarker({show: true}, _markers[i]);\r\n\t}\r\n});\r\n\r\nmodule.exports = map;","// Object.assign (IE support)\r\nif (typeof Object.assign === 'undefined') Object.assign = function() {\r\n\tlet objs = arguments[0] && typeof arguments[0] === 'object' ? arguments[0] : {};\r\n\r\n\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\tif (typeof arguments[i] === 'object') {\r\n\t\t\tfor (let key in arguments[i]) {\r\n\t\t\t\tobjs[key] = arguments[i][key];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn objs;\r\n};","export default class plugin {\r\n  constructor() {\r\n    this._ready = false;\r\n  }\r\n\r\n  // load plugin file if html not load the file\r\n  _loadPlugin(url, callback) {\r\n    // Adding the script tag to the head as suggested before\r\n    let head = document.getElementsByTagName('head')[0];\r\n    let script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = url;\r\n\r\n    // Then bind the event to the callback function.\r\n    // There are several events for cross browser compatibility.\r\n    script.addEventListener(\"load\", () => {callback(this);});\r\n\r\n    // Fire the loading\r\n    head.appendChild(script);\r\n\r\n    return url;\r\n  }\r\n\r\n  waitReady(callback) {\r\n    function _callback(self) {\r\n      if (self._ready) {\r\n        callback();\r\n        if (_timer != null) clearInterval(_timer);\r\n      } else if (_timer == null) {\r\n        _timer = setInterval(() => {\r\n          _callback(self);\r\n        }, 200);\r\n      }\r\n    }\r\n\r\n    let _timer = null;\r\n\r\n    _callback(this);\r\n\r\n    return true;\r\n  }\r\n\r\n  get ready () {return this._ready;}\r\n}"]}