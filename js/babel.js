!function n(r,a,c){function p(t,e){if(!a[t]){if(!r[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}var o=a[t]={exports:{}};r[t][0].call(o.exports,function(e){return p(r[t][1][e]||e)},o,o.exports,n,r,a,c)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)p(c[e]);return p}({1:[function(e,t,i){"use strict";var s,o=e("deepLink");var n=new((s=o)&&s.__esModule?s:{default:s}).default({ele:".deepLink"});console.log(n)},{deepLink:2}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}}();e("object/object.property"),e("element/element.property");var o=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._devices={windows:{store:"zune:navigate?appid=",userAgent:/Windows\s+Phone|IEMobile/i},android:{store:"market://details?id=",userAgent:/Android/i},ios:{store:"itms-apps://itunes.apple.com/hk/app/",userAgent:/iPhone|iPad|iPod/i}},this._os=this._getUserAgent(),this._deepLinkEle=[],this._options=Object.deepAssign({delay:300,windows:{support:!1},android:{support:!0},ios:{support:!0},appName:""},e),e.ele&&""!==e.ele&&this.addDeepLink(e.ele)}return s(t,[{key:"_getUserAgent",value:function(){for(var e in this._devices)if(navigator.userAgent.match(this._devices[e].userAgent))return e;return"other"}},{key:"_getStore",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this._devices[this._os];if(e[this._os].id)switch(this._os){case"ios":t=""!==e.appName?this._devices.ios.store+e.appName+"/id"+e.ios.id:this._devices.ios.store+e.ios.id;break;case"windows":case"android":default:t=this._devices[this._os].store+e[this._os].id}else t=e.href?e.href:"javascript:;";return t}},{key:"addDeepLink",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".deepLink",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=Object.deepAssign(this._options,t),s=document.querySelectorAll(e),o=this,n={};if("other"!==this._os)for(var r=0;r<s.length;r++){if(n=Object.deepAssign({},i),s[r].getDataset(),!n.href&&s[r].href&&(n.href=s[r].href),"object"===c(s[r].dataset))for(var a in s[r].dataset)switch(a){case"androidId":case"iosId":case"windowsId":n[a.replace("Id","")].id=s[r].dataset[a];break;case"androidLink":case"iosLink":case"windowsLink":n[a.replace("Link","")].deepLink=s[r].dataset[a];break;default:n[a]=s[r].dataset[a]}n[this._os].support&&(n[this._os].deepLink&&(n.deepLink=n[this._os].deepLink),n.store=this._getStore(n),s[r].deepLinkOptions=Object.deepAssign({},n),s[r].onclick=function(e){return e.preventDefault(),e.stopImmediatePropagation(),o.call(this.deepLinkOptions),!0},this._deepLinkEle.push(s[r]))}return this._deepLinkEle}},{key:"call",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=Object.deepAssign(this._options,t),o=i&&"android"===this._os?500:0;return s.store||(s.store=this._getStore(s)),s[this._os].support||(s[this._os].support=this._options[this._os].support),setTimeout(function(){var t=(new Date).getTime();if(s[e._os].support)if(s.deepLink){var i=setTimeout(function(){var e=(new Date).getTime();clearTimeout(i),e-t>=s.delay||(window.location=s.store)},s.delay);window.location=s.deepLink}else window.location=s.store;else window.location=s.href},o)}},{key:"os",get:function(){return this._os}},{key:"deepLink",get:function(){return this._deepLinkEle}}]),t}();i.default=o},{"element/element.property":3,"object/object.property":4}],3:[function(e,t,i){"use strict";Element.prototype.getDataset=function(){if(!this.dataset){var e=this.attributes,t=[],i="";this.dataset={};for(var s=0;s<e.length;s++)if("data-"===e[s].localName.substr(0,5)){t=e[s].localName.split("-"),i="";for(var o=1;o<t.length;o++)i+=1===o?t[o]:t[o].substr(0,1).toUpperCase()+t[o].substr(1);this.dataset[i]=e[s].value}}return this.dataset},Element.prototype.addClass=function(e){this.classList?this.classList.add(e):this.className+=" "+e},Element.prototype.removeClass=function(e){this.classList?this.classList.remove(e):this.className=this.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},Element.prototype.hasClass=function(e){return this.classList?this.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(this.className)}},{}],4:[function(e,t,i){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.deepAssign=function(){return function e(t){var i={};for(var s=0;s<t.length;s++)if("object"===r(t[s]))for(var o in t[s])if("object"!==r(t[s][o])||Array.isArray(t[s][o]))if(Array.isArray(t[s][o])){i[o]=[];for(var n=0;n<t[s][o].length;n++)"object"===r(t[s][o][n])?i[o].push(e([{},t[s][o][n]])):i[o].push(t[s][o][n])}else i[o]=t[s][o];else i[o]=e([i[o]?i[o]:{},t[s][o]]);return i}(arguments)},"function"!=typeof Object.assign&&(Object.assign=Object.deepAssign)},{}]},{},[1]);
//# sourceMappingURL=babel.js.map
